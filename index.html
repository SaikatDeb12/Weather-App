<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather App</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="card">
        <div class="search">
            <input type="text" class="input_city" placeholder="Enter city name">
            <button><img src="images/search.png"></button>
        </div>
        <div class="temperature">
            <img class="temp-img" src="images/clear.png" alt="">
            <div class="temp-value">
                <h2><span class="degree">22</span><sup>o</sup>C</h2>
                <p class="cityName">Bengaluru</p>
            </div>
        </div>
        <div class="information">
            <div class="info1">
                <img class="humidity" src="images/humidity.png" alt="">
                <div class="humidity-value">
                    <h3><span class="humid">53</span>%</h3>
                    <p>Humidity</p>
                </div>
            </div>
            <div class="info2">
                <img class="wind" src="images/wind.png" alt="">
                <div class="wind-value">
                    <h3><span class="wind-speed">5</span>km/h</h3>
                    <p>Wind Speed</p>
                </div>
            </div>
        </div>
    </div>
</body>
    <script>
        const apiKey="85736HARSRPA22DKSSPPU37JQ";
        const city="delhi";
        
        async function checkWeather(){
            const cityName = document.querySelector('.input_city').value;
            
            const apiUrl = `https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${cityName}?unitGroup=metric&key=${apiKey}&contentType=json`;

            const response = await fetch(apiUrl);

            var data= await response.json();
            console.log(data);
            document.querySelector('.degree').innerHTML = data.currentConditions.temp;
            document.querySelector('.cityName').innerHTML = cityName;
            document.querySelector('.humid').innerHTML=data.currentConditions.humidity;
            document.querySelector('.wind-speed').innerHTML = data.currentConditions.windspeed;
            const conditions=data.currentConditions.conditions;
            if(conditions=="Clear"){
                document.querySelector('.temp-img').src = 'images/clear.png';
            }
            else if(conditions=="Partially cloudy"){
                document.querySelector('.temp-img').src = 'images/mist.png';
            }
            else if(conditions=="Overcast"){
                document.querySelector('.temp-img').src = 'images/clouds.png';
            }
        }

        const button = document.querySelector("button");
        button.addEventListener("click", (e) => {
            checkWeather();
        });

    </script>
</html>
